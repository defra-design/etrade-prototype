{% extends "layout.html" %}
{% block pageTitle %}
GOV.UK Prototype Kit
{% endblock %}
{% block beforeContent %}
{{super()}}
<a href="javascript:history.back()" class="govuk-back-link">Back</a>
{% endblock%}
{% block content %}
<!-- <style media="screen">
  .app-no-js{
    display:none;
  }
</style> -->
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <form method="post" class="form" action="choose-address">
      <h1 id="Proposednamehead_heading" class="govuk-heading-l">What is your business address?</h1>
      <div class="govuk-form-group">
        <label class="govuk-label" for="postcode">
          Postcode
        </label>
        <input class="govuk-input govuk-input--width-10" id="postcode" name="postcode" type="text" autocomplete="postal-code">
      </div>
      <input type="hidden" name="directMatch" value="yes">
      <p class="govuk-form-group">
        <a href="enter-address">Enter UK address manually</a>
      </p>
      <div class="govuk-form-group">
        <label class="govuk-label" for="filter">
          Property name or number (optional)
        </label>
        <div id="filter-hint" class="govuk-hint">
          For example, The Mill, 116 or Flat 37a
        </div>
        <input class="govuk-input govuk-input--width-20" id="addressNo" name="addressNo" type="text" aria-describedby="filter-hint">
      </div>
      <div class="form-group">
        <button id="submit-button" class="govuk-button" type="submit">Continue</button>
      </div>
    </form>
  </div>
</div>

{% endblock %}
<!-- PAGE based javascript -->
{% block pageScripts %}
{{super()}}
<script type="text/javascript">
  window.onload = function() {
    $('#submit-button').on('click', function(e) {
      e.preventDefault()
      if ($('#addressNo').val() == "") {
        $('.form').submit()
      } else {
        $('.form').attr('action', 'confirm-address')
        $('.form').submit()
      }
    })
  }
</script>
{% endblock %}
